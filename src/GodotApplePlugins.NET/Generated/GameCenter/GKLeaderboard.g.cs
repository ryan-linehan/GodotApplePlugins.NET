// <auto-generated>
// This code was generated by GodotApplePlugins.Generator.
// Do not edit this file directly. Edit the generator instead.
// </auto-generated>

#nullable enable

using Godot;
using System;
using System.Linq;
using System.Threading.Tasks;

namespace GodotApplePlugins.NET.GameCenter;

/// <summary>
/// Accesses Apple Game Center leaderboards and their entries.
/// </summary>
public partial class GKLeaderboard : GodotObject
{
    #region StringName Constants

    private static readonly StringName _methodLoadEntries = "load_entries";
    private static readonly StringName _methodLoadImage = "load_image";
    private static readonly StringName _methodLoadLeaderboards = "load_leaderboards";
    private static readonly StringName _methodLoadLocalPlayerEntries = "load_local_player_entries";
    private static readonly StringName _methodSubmitScore = "submit_score";
    private static readonly StringName _propertyActivityIdentifier = "activity_identifier";
    private static readonly StringName _propertyActivityProperties = "activity_properties";
    private static readonly StringName _propertyDuration = "duration";
    private static readonly StringName _propertyGroupIdentifier = "group_identifier";
    private static readonly StringName _propertyNextStartDate = "next_start_date";
    private static readonly StringName _propertyStartDate = "start_date";
    private static readonly StringName _propertyTitle = "title";
    private static readonly StringName _propertyType = "type";

    #endregion

    private readonly GodotObject _instance;

    /// <summary>
    /// Creates a new GKLeaderboard wrapper.
    /// </summary>
    public GKLeaderboard(GodotObject instance)
    {
        _instance = instance ?? throw new ArgumentNullException(nameof(instance));
    }

    /// <summary>
    /// Gets the underlying GDExtension object.
    /// </summary>
    public GodotObject Instance => _instance;

    /// <summary>
    /// Beta-only identifier for activity leaderboards (empty on platforms that do not expose the value).
    /// </summary>
    public string ActivityIdentifier
    {
        get => _instance.Get(_propertyActivityIdentifier).AsString();
        set => _instance.Set(_propertyActivityIdentifier, value);
    }

    /// <summary>
    /// Dictionary copy of Apple's [code]activityProperties[/code], containing keys such as [code]eventStartDate[/code] when available.
    /// </summary>
    public Godot.Collections.Dictionary ActivityProperties
    {
        get => _instance.Get(_propertyActivityProperties).AsGodotDictionary();
        set => _instance.Set(_propertyActivityProperties, value);
    }

    /// <summary>
    /// Leaderboard duration in seconds for recurring leaderboards.
    /// </summary>
    public double Duration
    {
        get => _instance.Get(_propertyDuration).AsDouble();
        set => _instance.Set(_propertyDuration, value);
    }

    /// <summary>
    /// Group identifier that you configured in App Store Connect, or an empty string if not grouped.
    /// </summary>
    public string GroupIdentifier
    {
        get => _instance.Get(_propertyGroupIdentifier).AsString();
        set => _instance.Set(_propertyGroupIdentifier, value);
    }

    public double NextStartDate
    {
        get => _instance.Get(_propertyNextStartDate).AsDouble();
        set => _instance.Set(_propertyNextStartDate, value);
    }

    public double StartDate
    {
        get => _instance.Get(_propertyStartDate).AsDouble();
        set => _instance.Set(_propertyStartDate, value);
    }

    /// <summary>
    /// Display name shown to players.
    /// </summary>
    public string Title
    {
        get => _instance.Get(_propertyTitle).AsString();
        set => _instance.Set(_propertyTitle, value);
    }

    /// <summary>
    /// The Apple leaderboard type returned as an integer value: [code]0[/code] ([code skip-lint]classic[/code]), [code]1[/code] ([code skip-lint]recurring[/code]), or [code]2[/code] ([code skip-lint]unknown[/code]).
    /// </summary>
    public int Type
    {
        get => _instance.Get(_propertyType).AsInt32();
        set => _instance.Set(_propertyType, value);
    }

    /// <summary>
    /// Loads the local player's score together with the specified [code skip-lint]Array' of [code skip-lint]GKPlayer' objects for the given time scope (use the TimeScope values). The callback receives '(GKLeaderboardEntry local, ArrayGKLeaderboardEntry scores, Variant error)' where the first entry can be 'null' if the local player has not posted a score.
    /// </summary>
    public void LoadEntries(Godot.Collections.Array players, GodotObject timescope, Callable callback)
    {
        _instance.Call(_methodLoadEntries, players, timescope, callback);
    }

    /// <summary>
    /// Downloads the leaderboard icon. The callback arguments are '(Image image, Variant error)' with exactly one being 'null', matching the [code skip-lint]load_image' helper shown in the guide.
    /// </summary>
    public void LoadImage(Callable callback)
    {
        _instance.Call(_methodLoadImage, callback);
    }

    /// <summary>
    /// Fetches leaderboard metadata. Pass an empty array to load every leaderboard configured for the app, or provide specific identifiers. The callback receives [code skip-lint]ArrayGKLeaderboard' and a [code skip-lint]Variant' error string ('null' on success).
    /// </summary>
    public void LoadLeaderboards(string[] ids, Callable callback)
    {
        _instance.Call(_methodLoadLeaderboards, ids, callback);
    }

    /// <summary>
    /// Loads leaderboard entries for the local player. The callback receives '(GKLeaderboardEntry local, ArrayGKLeaderboardEntry scores, Variant range, Variant error)' where the first entry can be 'null' if the local player has not posted a score. The value `range` is the number of total player count that matched the scope. Supply PlayerScope and TimeScope integers for the first two parameters.
    /// </summary>
    public void LoadLocalPlayerEntries(GodotObject playerscope, GodotObject timescope, int rangestart, int rangelenght, Callable callback)
    {
        _instance.Call(_methodLoadLocalPlayerEntries, playerscope, timescope, rangestart, rangelenght, callback);
    }

    /// <summary>
    /// Submits a score for the provided player. The callback receives a [code skip-lint]Variant' with the error string or 'null' when the submission succeeds. See [code skip-lint]GameCenterGuide.md' for an end-to-end example.
    /// </summary>
    public void SubmitScore(int score, int context, GKPlayer player, Callable callback)
    {
        _instance.Call(_methodSubmitScore, score, context, player.Instance, callback);
    }

}
