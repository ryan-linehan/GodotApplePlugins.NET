// <auto-generated>
// This code was generated by GodotApplePlugins.Generator.
// Do not edit this file directly. Edit the generator instead.
// </auto-generated>

#nullable enable

using Godot;
using System;
using System.Linq;
using System.Threading.Tasks;

namespace GodotApplePlugins.NET.AVFoundation;

/// <summary>
/// Controls the shared iOS/tvOS audio session from GDScript.
/// </summary>
public partial class AVAudioSession : GodotObject
{
    #region StringName Constants

    private static readonly StringName _methodSetCategory = "set_category";
    private static readonly StringName _propertyCurrentCategory = "current_category";

    #endregion

    private readonly GodotObject _instance;

    /// <summary>
    /// Creates a new AVAudioSession wrapper.
    /// </summary>
    public AVAudioSession(GodotObject instance)
    {
        _instance = instance ?? throw new ArgumentNullException(nameof(instance));
    }

    /// <summary>
    /// Gets the underlying GDExtension object.
    /// </summary>
    public GodotObject Instance => _instance;

    /// <summary>
    /// The current audio session category.
    /// </summary>
    public int CurrentCategory
    {
        get => _instance.Get(_propertyCurrentCategory).AsInt32();
        set => _instance.Set(_propertyCurrentCategory, value);
    }

    /// <summary>
    /// Sets the shared audio session category, mode, route sharing policy, and options. category: The audio session category to set (e.g., PLAYBACK, RECORD). mode: The audio session mode (e.g., DEFAULT, GAME_CHAT). policy: The route sharing policy (e.g., ROUTE_SHARING_DEFAULT, LONG_FORM_AUDIO). options: A bitmask of CategoryOptions values (e.g., 'AVAudioSession.MIX_WITH_OTHERS | AVAudioSession.DUCK_OTHERS'). Returns OK on success, or FAILED if the setting could not be applied (e.g. on macOS where this is not supported, or if an error occurs).
    /// </summary>
    public int SetCategory(GodotObject category, GodotObject mode, GodotObject policy, int options)
    {
        var result = _instance.Call(_methodSetCategory, category, mode, policy, options);
        return result.AsInt32();
    }

}
