// <auto-generated>
// This code was generated by GodotApplePlugins.Generator.
// Do not edit this file directly. Edit the generator instead.
// </auto-generated>

#nullable enable

using Godot;
using System;
using System.Linq;
using System.Threading.Tasks;

namespace GodotApplePlugins.NET.StoreKit;

/// <summary>
/// Represents an option that can be supplied when purchasing a StoreProduct.
/// </summary>
public partial class StoreProductPurchaseOption : GodotObject
{
    #region StringName Constants

    private static readonly StringName _methodAppAccountToken = "app_account_token";
    private static readonly StringName _methodIntroductoryOfferElligibility = "introductory_offer_elligibility";
    private static readonly StringName _methodQuantity = "quantity";
    private static readonly StringName _methodSimulateAskToBuyInSandbox = "simulate_ask_to_buy_in_sandbox";
    private static readonly StringName _methodWinBackOffer = "win_back_offer";

    #endregion

    private readonly GodotObject _instance;

    /// <summary>
    /// Creates a new StoreProductPurchaseOption wrapper.
    /// </summary>
    public StoreProductPurchaseOption(GodotObject instance)
    {
        _instance = instance ?? throw new ArgumentNullException(nameof(instance));
    }

    /// <summary>
    /// Gets the underlying GDExtension object.
    /// </summary>
    public GodotObject Instance => _instance;

    /// <summary>
    /// Creates a purchase option with an app account token. This token should be a UUID string that associates the transaction with a user account on your service.
    /// </summary>
    public StoreProductPurchaseOption AppAccountToken(string stringuuidtoken)
    {
        var result = _instance.Call(_methodAppAccountToken, stringuuidtoken);
        return new StoreProductPurchaseOption((GodotObject)result.Obj!);
    }

    /// <summary>
    /// Creates a purchase option with a specific introductory offer eligibility. This requires the signed JWS string from the App Store.
    /// </summary>
    public StoreProductPurchaseOption IntroductoryOfferElligibility(string jws)
    {
        var result = _instance.Call(_methodIntroductoryOfferElligibility, jws);
        return new StoreProductPurchaseOption((GodotObject)result.Obj!);
    }

    /// <summary>
    /// Creates a purchase option specifying the quantity of the product to purchase.
    /// </summary>
    public StoreProductPurchaseOption Quantity(int value)
    {
        var result = _instance.Call(_methodQuantity, value);
        return new StoreProductPurchaseOption((GodotObject)result.Obj!);
    }

    /// <summary>
    /// Creates a purchase option to simulate the "Ask to Buy" flow in the sandbox environment.
    /// </summary>
    public StoreProductPurchaseOption SimulateAskToBuyInSandbox(bool enabled)
    {
        var result = _instance.Call(_methodSimulateAskToBuyInSandbox, enabled);
        return new StoreProductPurchaseOption((GodotObject)result.Obj!);
    }

    /// <summary>
    /// Creates a purchase option for a win-back offer.
    /// </summary>
    public StoreProductPurchaseOption WinBackOffer(StoreProductSubscriptionOffer offer)
    {
        var result = _instance.Call(_methodWinBackOffer, offer.Instance);
        return new StoreProductPurchaseOption((GodotObject)result.Obj!);
    }

}
