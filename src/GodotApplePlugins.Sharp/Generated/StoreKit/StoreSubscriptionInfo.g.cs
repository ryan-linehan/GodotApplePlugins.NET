// <auto-generated>
// This code was generated by GodotApplePlugins.Generator.
// Do not edit this file directly. Edit the generator instead.
// </auto-generated>

#nullable enable

using Godot;
using System;
using System.Linq;
using System.Threading.Tasks;

namespace GodotApplePlugins.NET.StoreKit;

/// <summary>
/// Provides subscription group metadata and status queries.
/// </summary>
public partial class StoreSubscriptionInfo : GodotObject
{
    private readonly GodotObject _instance;

    /// <summary>
    /// Creates a new StoreSubscriptionInfo wrapper.
    /// </summary>
    public StoreSubscriptionInfo(GodotObject instance)
    {
        _instance = instance ?? throw new ArgumentNullException(nameof(instance));
    }

    /// <summary>
    /// Gets the underlying GDExtension object.
    /// </summary>
    public GodotObject Instance => _instance;

    /// <summary>
    /// The localized display name of the subscription group. Returns an empty string if unavailable.
    /// </summary>
    public string GroupDisplayName
    {
        get => _instance.Get(new StringName("group_display_name")).AsString();
        set => _instance.Set(new StringName("group_display_name"), value);
    }

    /// <summary>
    /// The subscription group level used for upgrade/downgrade ranking. Returns [code]-1[/code] when unavailable.
    /// </summary>
    public int GroupLevel
    {
        get => _instance.Get(new StringName("group_level")).AsInt32();
        set => _instance.Set(new StringName("group_level"), value);
    }

    /// <summary>
    /// The subscription group identifier from App Store Connect. Returns an empty string if unavailable.
    /// </summary>
    public string SubscriptionGroupId
    {
        get => _instance.Get(new StringName("subscription_group_id")).AsString();
        set => _instance.Set(new StringName("subscription_group_id"), value);
    }

    /// <summary>
    /// Fetches the current status entries for this subscription. The callback receives a [code skip-lint]ArrayStoreSubscriptionInfoStatus' on success, or a 'String' describing the error.
    /// </summary>
    public void Getstatus(Action? callback = null)
    {
        _instance.Call(new StringName("getStatus"), callback != null ? Callable.From(() => callback()) : Callable.From(() => { }));
    }

    /// <summary>
    /// Fetches status entries for the subscription group identifier. The callback receives a [code skip-lint]ArrayStoreSubscriptionInfoStatus' on success, or a 'String' describing the error.
    /// </summary>
    public void StatusForGroupId(string groupId, Action? status = null)
    {
        _instance.Call(new StringName("status_for_group_id"), groupId, status != null ? Callable.From(() => status()) : Callable.From(() => { }));
    }

    /// <summary>
    /// Fetches the status entry for the provided transaction identifier. The callback receives a [code skip-lint]StoreSubscriptionInfoStatus' when available, an empty [code skip-lint]ArrayStoreSubscriptionInfoStatus' when no status is found, or a 'String' describing the error. On macOS, this requires macOS 15.4 or newer; earlier versions perform no action.
    /// </summary>
    public void StatusForTransaction(int transactionId, Action? status = null)
    {
        _instance.Call(new StringName("status_for_transaction"), transactionId, status != null ? Callable.From(() => status()) : Callable.From(() => { }));
    }

}
