// <auto-generated>
// This code was generated by GodotApplePlugins.Generator.
// Do not edit this file directly. Edit the generator instead.
// </auto-generated>

#nullable enable

using Godot;
using System;
using System.Linq;

namespace GodotApplePlugins.Sharp.GameCenter;

/// <summary>
/// Represents the signed-in Game Center player and exposes local-only APIs.
/// </summary>
public partial class GKLocalPlayer
{
    private readonly GodotObject _instance;

    /// <summary>
    /// Creates a new GKLocalPlayer wrapper.
    /// </summary>
    public GKLocalPlayer(GodotObject instance)
    {
        _instance = instance ?? throw new ArgumentNullException(nameof(instance));
    }

    /// <summary>
    /// Gets the underlying GDExtension object.
    /// </summary>
    public GodotObject Instance => _instance;

    /// <summary>
    /// Reflects [code skip-lint]GKLocalPlayer.local.isAuthenticated[/code].
    /// </summary>
    public bool IsAuthenticated
    {
        get => _instance.Get(new StringName("is_authenticated")).AsBool();
        set => _instance.Set(new StringName("is_authenticated"), value);
    }

    /// <summary>
    /// True when multiplayer is disabled by parental controls.
    /// </summary>
    public bool IsMultiplayerGamingRestricted
    {
        get => _instance.Get(new StringName("is_multiplayer_gaming_restricted")).AsBool();
        set => _instance.Set(new StringName("is_multiplayer_gaming_restricted"), value);
    }

    /// <summary>
    /// Indicates whether personalized communication is blocked for this account.
    /// </summary>
    public bool IsPersonalizedCommunicationRestricted
    {
        get => _instance.Get(new StringName("is_personalized_communication_restricted")).AsBool();
        set => _instance.Set(new StringName("is_personalized_communication_restricted"), value);
    }

    /// <summary>
    /// Apple's [code]isUnderage[/code] flag for COPPA-compliant flows.
    /// </summary>
    public bool IsUnderage
    {
        get => _instance.Get(new StringName("is_underage")).AsBool();
        set => _instance.Set(new StringName("is_underage"), value);
    }

    public void DeleteSavedGames(string named, Action? callback = null)
    {
        _instance.Call(new StringName("delete_saved_games"), named, callback != null ? Callable.From(() => callback()) : Callable.From(() => { }));
    }

    /// <summary>
    /// Calls Apple's 'fetchItems' helper for server-side authentication. The callback receives '(Dictionary data, Variant error)'. The dictionary contains the 'url', 'data', 'salt', and 'timestamp' keys described in the inline Swift documentation, letting your backend verify the player's identity.
    /// </summary>
    public void FetchItemsForIdentityVerificationSignature(Action? callback = null)
    {
        _instance.Call(new StringName("fetch_items_for_identity_verification_signature"), callback != null ? Callable.From(() => callback()) : Callable.From(() => { }));
    }

    /// <summary>
    /// Use this API to retrieve the list of saved games, upon completion, this method invokes the provided callback with both an array of GKSavedGame objects and a variant error, if not nil it contains a string describing the problem.
    /// </summary>
    public void FetchSavedGames(Action? callback = null)
    {
        _instance.Call(new StringName("fetch_saved_games"), callback != null ? Callable.From(() => callback()) : Callable.From(() => { }));
    }

    /// <summary>
    /// Loads players whom the local user can challenge. The callback receives '(ArrayGKPlayer friends, Variant error)' where either argument can be 'null'.
    /// </summary>
    public void LoadChallengeableFriends(Action? callback = null)
    {
        _instance.Call(new StringName("load_challengeable_friends"), callback != null ? Callable.From(() => callback()) : Callable.From(() => { }));
    }

    /// <summary>
    /// Fetches the friends list. The callback receives '(ArrayGKPlayer friends, Variant error)'; a non-null error [code skip-lint]Variant' holds the localized error string.
    /// </summary>
    public void LoadFriends(Action? callback = null)
    {
        _instance.Call(new StringName("load_friends"), callback != null ? Callable.From(() => callback()) : Callable.From(() => { }));
    }

    /// <summary>
    /// Loads friends that recently played together with the local player. The callback signature matches load_challengeable_friends.
    /// </summary>
    public void LoadRecentFriends(Action? callback = null)
    {
        _instance.Call(new StringName("load_recent_friends"), callback != null ? Callable.From(() => callback()) : Callable.From(() => { }));
    }

    /// <summary>
    /// Saves the packed byte array as the game data with the specified name, upon completion the callback is invoked with both a GKSavedObject parameter and a Variant parameter for the error. The GKSavedObject is not-nil on success, and on error, the second parameter is not-nil and contains the error message.
    /// </summary>
    public void SaveGameData(byte[] data, string withname, Action? callback = null)
    {
        _instance.Call(new StringName("save_game_data"), data, withname, callback != null ? Callable.From(() => callback()) : Callable.From(() => { }));
    }

}
